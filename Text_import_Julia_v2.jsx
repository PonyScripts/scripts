
		if(!$["_extAutomationBlocks"]) {
			alert("Automation Blocks is not initialized. To run this script make sure the extension Automation Blocks is installed.");
			throw new Error("could not find Automation Blocks API");
		}
		
	(function(thisObj){
		$._extAutomationBlocks.all.abDestructor.announceEndPoint("main script");
		var myResult;
		try {
			app.beginUndoGroup("Automation Blocks");
			myResult = JSON.stringify({status:"SUCCESS", data: eval("var kurgan, fauna, text_src, fred, my_line, palindrom, user_input_1, i, track, COpy, VM_text_layer, text_path, j, user_input_2, Text_value, user_input_3, VM_text_value, new_layer_var, temp_index;\n\nfunction esMathRandomInt(a, b) {\n  if (a > b) {\n    // Swap a and b to ensure a is smaller.\n    var c = a;\n    a = b;\n    b = c;\n  }\n  return Math.floor(Math.random() * (b - a + 1) + a);\n}\n\nfunction esMathRandomFloat(a, b) {\n  if (a > b) {\n    // Swap a and b to ensure a is smaller.\n    var c = a;\n    a = b;\n    b = c;\n  }\n  return (Math.random() * (b - a) + a);\n}\n\n// Describe this function...\nfunction do_something() {\n  $._extAutomationBlocks.all.messageAboutExecuteBlock('$;JjN|e:ltP4cJaQ2JdV');\n  $._extAutomationBlocks.all.messageAboutExecuteBlock('dSS3-:`1DY/`%EEIrj|9');\n  text_src = [];\n  $._extAutomationBlocks.all.messageAboutExecuteBlock('XL#Pqw]ks}^(c;F3dBAq');\n  var my_line_list = $._extAutomationBlocks.all.fileCollection.textFileGetLines(user_input_1);\n  ;\n  for (var my_line_index =0; my_line_index< my_line_list.length;my_line_index++) {\n    try { my_line = my_line_list[my_line_index];}\n  \t\tcatch(e) {\n  \t\t\t$._extAutomationBlocks.all.log(\"skipped loop iteration:\"+e.message);\n  \t\t\tcontinue;\n  \t\t}\n  \t\t  $._extAutomationBlocks.all.messageAboutExecuteBlock('o8PeQ-Oe1z(jr*#a*9YE');\n    if (my_line / 1 != 0) {\n      $._extAutomationBlocks.all.messageAboutExecuteBlock('i66:I?C(UkSvw%R-aLX;');\n      text_src.push(my_line);\n    }\n    $._extAutomationBlocks.all.messageAboutExecuteBlock('XL#Pqw]ks}^(c;F3dBAq');\n  }\n  $._extAutomationBlocks.all.messageAboutExecuteBlock('9DIFdslc;u.lSJ:c=1C5');\n  i = 0;\n  $._extAutomationBlocks.all.messageAboutExecuteBlock('kimWx~0sIdhW0B9E=$%E');\n  COpy = $._extAutomationBlocks.AeLayer.duplicate((VM_text_layer[0]));\n  $._extAutomationBlocks.all.messageAboutExecuteBlock('r]#6^beRdkiGv7ZcoEdY');\n  $._extAutomationBlocks.all.log(($._extAutomationBlocks.AeLayer.getAttribute(COpy, 'IN_POINT')));\n  $._extAutomationBlocks.all.messageAboutExecuteBlock('#*?(okWQ%%:P~r#,kZU6');\n  $._extAutomationBlocks.all.log(($._extAutomationBlocks.AeLayer.getAttribute(COpy, 'START_TIME')));\n  $._extAutomationBlocks.all.messageAboutExecuteBlock('R5Ii4p|aa7]9[!Vt|)ry');\n  if (($._extAutomationBlocks.AeLayer.getAttribute(COpy, 'IN_POINT')) != ($._extAutomationBlocks.AeLayer.getAttribute(COpy, 'START_TIME'))) {\n    $._extAutomationBlocks.all.messageAboutExecuteBlock('EtQ7NP$dSUc`Ene{ZeP3');\n    (function(){\n    \t\t\tvar message = $._extAutomationBlocks.all.EsString.esToString('InPoint Fixed');\n    \t\t\talert(message);\n\n    \t})();\n    $._extAutomationBlocks.all.messageAboutExecuteBlock('0t(8VIN,*mCzqh)R-;|@');\n    $._extAutomationBlocks.AeLayer.setAttribute(COpy, 'IN_POINT', ($._extAutomationBlocks.AeLayer.getAttribute(COpy, 'START_TIME')));\n    $._extAutomationBlocks.all.messageAboutExecuteBlock('D^6q*dcpH:-4z[ae33d,');\n    $._extAutomationBlocks.AeLayer.setAttribute(COpy, 'START_TIME', 0);\n  }\n  $._extAutomationBlocks.all.messageAboutExecuteBlock('SfAPluwuQieyt5ZM_t$j');\n  j = 1;\n  $._extAutomationBlocks.all.messageAboutExecuteBlock('qMG[-AT=0U]CR^0)g:3M');\n  for (var Text_value_index =0; Text_value_index< text_src.length;Text_value_index++) {\n    try { Text_value = text_src[Text_value_index];}\n  \t\tcatch(e) {\n  \t\t\t$._extAutomationBlocks.all.log(\"skipped loop iteration:\"+e.message);\n  \t\t\tcontinue;\n  \t\t}\n  \t\t  $._extAutomationBlocks.all.messageAboutExecuteBlock('0=+;89RA%UK]@54dkb[4');\n    VM_text_value = Text_value;\n    $._extAutomationBlocks.all.messageAboutExecuteBlock('|N8FDeTF2Uj7^e=s1A#}');\n    new_layer_var = $._extAutomationBlocks.AeLayer.duplicate(COpy);\n    $._extAutomationBlocks.all.messageAboutExecuteBlock('OfJM,]C?%(k,N8|vk@:V');\n    $._extAutomationBlocks.AeProperty.setAttribute(($._extAutomationBlocks.AeLayer.toLayer(new_layer_var) + '/' + 'ADBE Text Properties/ADBE Text Document'), 'VALUE', VM_text_value);\n    $._extAutomationBlocks.all.messageAboutExecuteBlock('.OHP8d8%h4WoF}:-%[X^');\n    $._extAutomationBlocks.AeLayer.setAttribute(new_layer_var, 'INDEX', 1);\n    $._extAutomationBlocks.all.messageAboutExecuteBlock('FNYWGq0n$pHR0BT`M-1:');\n    $._extAutomationBlocks.AeLayer.setAttribute(new_layer_var, 'OUT_POINT', (($._extAutomationBlocks.AeLayer.getAttribute(new_layer_var, 'START_TIME')) + Math.ceil(($._extAutomationBlocks.AeProperty.getAttribute(($._extAutomationBlocks.AeLayer.toLayer(new_layer_var) + '/' + 'ADBE Text Properties/ADBE Text Document'), 'VALUE')).length * 4 * (1 / ($._extAutomationBlocks.AeComp.getAttribute(($._extAutomationBlocks.AeComp.getActiveComp()), 'FRAME_RATE'))))));\n    $._extAutomationBlocks.all.messageAboutExecuteBlock('P-c|ZqvpSq^0$4vP8oUH');\n    temp_index = ($._extAutomationBlocks.AeLayer.getLayers(($._extAutomationBlocks.AeComp.getActiveComp()), {onlySelected:false,sortSelection:false, typeArray: [\"TextLayer\"]}))[1];\n    $._extAutomationBlocks.all.messageAboutExecuteBlock('iyMOiNgUg{jU%Eq$@^4C');\n    if (i != 0) {\n      $._extAutomationBlocks.all.messageAboutExecuteBlock('v[pg2H|kOb$UR26A}qPV');\n      $._extAutomationBlocks.AeLayer.setAttribute(new_layer_var, 'START_TIME', (($._extAutomationBlocks.AeLayer.getAttribute(temp_index, 'OUT_POINT')) + 20 / ($._extAutomationBlocks.AeComp.getAttribute(($._extAutomationBlocks.AeComp.getActiveComp()), 'FRAME_RATE'))));\n    }\n    $._extAutomationBlocks.all.messageAboutExecuteBlock('}xx5vsmb-AdG=W6,Zb;i');\n    i = (typeof i == 'number' ? i : 0) + 1;\n    $._extAutomationBlocks.all.messageAboutExecuteBlock('16:A9H:5)Sg#Q0K]]bw]');\n    if (user_input_3 && user_input_2) {\n      $._extAutomationBlocks.all.messageAboutExecuteBlock('yIr69|+9).H93bADFsnt');\n      if (j <= track.length) {\n        $._extAutomationBlocks.all.messageAboutExecuteBlock('i5jCk26|/[s!fBEmyU,?');\n        $._extAutomationBlocks.AeLayer.setAttribute(new_layer_var, 'NAME', (track[(j - 1)]));\n      } else {\n        $._extAutomationBlocks.all.messageAboutExecuteBlock('p,YgdB!b-4_Ihr32N1.w');\n        $._extAutomationBlocks.AeLayer.setAttribute(new_layer_var, 'NAME', VM_text_value);\n      }\n    } else {\n      $._extAutomationBlocks.all.messageAboutExecuteBlock('y~ape/;cOiD)`KW9rxn1');\n      if (user_input_3 && !user_input_2) {\n        $._extAutomationBlocks.all.messageAboutExecuteBlock('f{Ba`+h?BGbivYmWyM)#');\n        $._extAutomationBlocks.AeLayer.setAttribute(new_layer_var, 'NAME', VM_text_value);\n      } else {\n        $._extAutomationBlocks.all.messageAboutExecuteBlock('s6zk!L*CCR^bVf?U4DY.');\n        if (j <= track.length && user_input_2) {\n          $._extAutomationBlocks.all.messageAboutExecuteBlock('Il}u6g*zlK%x?SDY#lqz');\n          $._extAutomationBlocks.AeLayer.setAttribute(new_layer_var, 'NAME', (track[(j - 1)]));\n        } else {\n          $._extAutomationBlocks.all.messageAboutExecuteBlock('{?R;!7axl}wZ_sV/c!VP');\n          $._extAutomationBlocks.AeLayer.setAttribute(new_layer_var, 'NAME', ('VM_Text ' + String(j)));\n        }\n      }\n    }\n    $._extAutomationBlocks.all.messageAboutExecuteBlock('.f^g9sm@hL8f93x:xm~9');\n    j = (typeof j == 'number' ? j : 0) + 1;\n    $._extAutomationBlocks.all.messageAboutExecuteBlock('qMG[-AT=0U]CR^0)g:3M');\n  }\n  $._extAutomationBlocks.all.messageAboutExecuteBlock('OKe$u~EKp%@0jCz,Qfjp');\n  $._extAutomationBlocks.AeLayer.remove(COpy);\n  $._extAutomationBlocks.all.messageAboutExecuteBlock('K/Yg|y2`X.mj`oA(0J4v');\n  $._extAutomationBlocks.AeLayer.setAttribute(VM_text_layer, 'ENABLED', (false));\n  $._extAutomationBlocks.all.messageAboutExecuteBlock('u~(qlUF*$GPF^vY7(J}I');\n  $._extAutomationBlocks.AeLayer.setAttribute(VM_text_layer, 'LABEL_COLOR_NAME', ('Orange'));\n  $._extAutomationBlocks.all.messageAboutExecuteBlock('7WAH{iIZPk.uM+i1E%dY');\n  $._extAutomationBlocks.AeLayer.setAttribute(VM_text_layer, 'GUIDE_LAYER', (true));\n  $._extAutomationBlocks.all.messageAboutExecuteBlock('~pH^)=s/t([4zl./;J@.');\n  $._extAutomationBlocks.AeComp.selectLayers(($._extAutomationBlocks.AeLayer.getLayers(($._extAutomationBlocks.AeComp.getActiveComp()), {onlySelected:false,sortSelection:false, typeArray: [\"Layer\"]})), {mode:\"REMOVE\"});\n  $._extAutomationBlocks.all.messageAboutExecuteBlock('xCv$yBPZ^~uGY)(x#V53');\n  $._extAutomationBlocks.AeLayer.setAttribute(VM_text_layer, 'SELECTED', (true));\n  $._extAutomationBlocks.all.messageAboutExecuteBlock('o,0-Q[:^)30nsC0%aG4A');\n  $._extAutomationBlocks.AeComp.setAttribute(($._extAutomationBlocks.AeComp.getActiveComp()), 'DURATION', ($._extAutomationBlocks.AeLayer.getAttribute((($._extAutomationBlocks.AeLayer.getLayers(($._extAutomationBlocks.AeComp.getActiveComp()), {onlySelected:false,sortSelection:false, typeArray: [\"Layer\"]}))[0]), 'OUT_POINT')));\n}\n\n\n$._extAutomationBlocks.all.messageAboutExecuteBlock('J(M|{k=5*a(f#=GAAL+R');\nkurgan = 'Дай води, дай води,Воздух і запах желєза все перебив і уйди,Не обарачуйся по возможності,Даже єслі почуєш, шо я от болі корчусь,Там, за твоєю спиной,Прогрузивсь новий мір і в ньом немає мєста тебі,І шо показує твій лагатель?,Тепер я участнік, а ти наблюдатєль,Бачів там больше, чєм мог потом вспомнить,Мєж трансформатарав, гудящіх на полну,Сагнув мою пам\\'ять, як лист а4, той,Кого не просили,Не магли, не магли,Не памагли даже шапочки із фольги,А кали паслєдній дощ постукав у двері,Ти не открив, бо подумав, шо буде іще один,Раз умерти там, шоб остаться тут,Видуть ротом всю пиляку із клавіатури,Квантовий комп\\'ютер наєбнувсь, кали, кали ізучав суржик,Формула будущого на тарєлочкє усього нахуй сущого,Вибор самого сущого защітавсь,То не надовго, неважно, шо в чорной каробкє,Вона поломана,Вона поломана була іще до того,Як була придумана, уже поломана була'.split(',');\n$._extAutomationBlocks.all.messageAboutExecuteBlock('?1|N!~?vAsCr,55W%I~$');\nfauna = 'Ти цілуєш мене у холодні ключиці,Я повернувся живим із експедиції,Голодний і дуже худий, але із подарками,Їх тобі передав шаман із Арктіки,Шаман із Арктіки,Коли я зірвався і впав ,Десь посеред Аляски,Мене розкопали його маламути і хаскі,А він зашептав усі мої зламані кості,А із розкосих очей в юрту лився космос,Шаман із арктіки,Духи лікували мене голосами карібу,І я полював на китів і гігантську рибу,Мамою стала мені сивочола Аляска,Настала жорстока весна і розтопила казку'.split(',');\n$._extAutomationBlocks.all.messageAboutExecuteBlock('C]J(wloomO,HL!/JcoH#');\nfred = 'Я був там, де сіро і нехай,Фред був там, де птах не знав де рай,В телефон вдома в сон, запихаєшся в вагон ,Не в гніздо, і при вході домофон,Бачу я, потьмянів, крик і стони пильні штори,Через вікна, всіх сусідів кухні видно у вікно,Пташка курить, пташка спить, пташка робить, щоб прожить,Плачуть сльози мрякнуть очі всім байдуже навкруги,Птаха фред літати хтів,Із дитинства мріяв він,Ріжуть крила на шляху,Тягнуть в глибочінь лиху,Хмарний день день як день на балконі кращі дні,Фред хотів, сильно хтів, кров вскипала від бажань,Брудний кіт їсти хтів, птах не розумів кота,Плачуть сльози мрякнуть очі всім байдуже навкруги'.split(',');\n$._extAutomationBlocks.all.messageAboutExecuteBlock('^#rJ}N)SxxY,qX7}`^]v');\npalindrom = 'Життя моє мрійливе,Як букет фіалок,Ударна хвиля вкриє,Теплим одіялом,Я закрию очі,Бачу свою маму,Чи є таке емоджі,Що все не так погано?,Відправлю кілька друзям,Якщо смартфон працює,І землю де лежу я,Поцілую,Поставити замість гудків Кохайтесь чорнобриві,Не дивитись в бік спалаху на небі,Задонать заради перемоги, Козацька рада,Пес Патрон, залишатись в укритті порада,Поки органи влади не нададуть інструкцій,Айфон 14 – знижка при покупці,Перед укриттям зняти верхній шар одягу,Ідеальний час щоб замовити суші,Київ знову атакують дрони-камікадзе,Павло Зібров – кращі хіти 10 грудня,Не пити воду з крану – є ризик забруднення,Твій кур\\'єр Глово вже в дорозі,Графіки відключень світла за посиланням,Маєте бонус картку? Бажаєте завести?,Не стійте біля вікон і біля сервантів,Діти нині в укритті закінчують семестр,З самого дитинства я завжди думав,У кожного світ такий як у мене,Я не розумів для чого мій батько,Кричить на нього на кухні один,Проходив час я питав в друзів,Як їхній світ поводить себе,На їхніх очах плакати мусив,Щоб пояснити як бути сумним,Але разом з тим всім,Він вмів сміятись вмів і кохати і пити до дна,Жадно куштувати цілунків дурман,І потім співати пісень непристойних вночі,А сьогодні йому протирають,Камфорним спиртом пролежні мам,Мій світ не сміється давно вже ні мам,Він тихо сопить йому соромно жити між ними,Мій світ новий,Ніяк не звикнути ,Біль від втоми,Має зникнути,Мій світ новий,Ніяк не звикнути ,Біль від втоми,Має зникнути'.split(',');\n$._extAutomationBlocks.all.messageAboutExecuteBlock('f{P3U/kR0)ckm`xGXAJ)');\ntrack = [fauna, fred, kurgan, palindrom][(esMathRandomInt(1, 4) - 1)];\n$._extAutomationBlocks.all.messageAboutExecuteBlock('-T#H~)A4pTaJUa{Mhz8=');\nVM_text_layer = ($._extAutomationBlocks.AeLayer.getLayers(($._extAutomationBlocks.AeComp.getActiveComp()), {onlySelected:true,sortSelection:false, typeArray: [\"TextLayer\"]}));\n$._extAutomationBlocks.all.messageAboutExecuteBlock('QqiAuQu?sRO1.3)Iq/{S');\ntext_path = String($._extAutomationBlocks.AeProject.getProjectFolder()) + '\\\\text.txt';\n$._extAutomationBlocks.all.messageAboutExecuteBlock('i{P0B?z/a=u_vTE[64}Q');\nif (VM_text_layer.length == 1) {\n  $._extAutomationBlocks.all.messageAboutExecuteBlock('l@6bzf{B4SCxmrv5Q=*p');\n  if ($._extAutomationBlocks.all.EsFile.exists(text_path,{variant:\"FILE\"})) {\n    $._extAutomationBlocks.all.messageAboutExecuteBlock('T%JDzlV?jB[P+~GUw}Ni');\n    user_input_1 = text_path;\n    $._extAutomationBlocks.all.messageAboutExecuteBlock('Gp:,{R(plm]B=jm(SY6k');\n    do_something();\n  } else {\n    $._extAutomationBlocks.all.messageAboutExecuteBlock('x0,9S,V8=4;$)h?`Oi4@');\n    user_input_2 = false;\n    $._extAutomationBlocks.all.messageAboutExecuteBlock('[[BncdC5(05.Fxsur5)T');\n    user_input_3 = false;\n    $._extAutomationBlocks.all.messageAboutExecuteBlock('8d1N1tvk3@u!B+PXTrds');\n\n    \t dialogResult = $._extAutomationBlocks.all.EsDialogs.showCustomDialog([{type:'OPEN_FILE', value:user_input_1,label:''},{type:'CHECKBOX', value:user_input_3,label:'Use text as layer title'},{type:'CHECKBOX', value:user_input_2,label:'Karaoke mod'}],{allowCancel:true});\n    \t if(!dialogResult) throw new Error(\"user canceled\");\n    \t user_input_1=dialogResult[0];\n    user_input_3=dialogResult[1];\n    user_input_2=dialogResult[2];\n    \t $._extAutomationBlocks.all.messageAboutExecuteBlock('8klD5fbFRYK:/6m;Q;7Q');\n    if (($._extAutomationBlocks.all.EsString.getFilePathPart(user_input_1,'EXT_NO_DOT')) == 'txt') {\n      $._extAutomationBlocks.all.messageAboutExecuteBlock('1^;=Mc8,KGs]jjM{XPu=');\n      do_something();\n    } else {\n      $._extAutomationBlocks.all.messageAboutExecuteBlock('2XyIXTEnrzLCJunMo$wr');\n      if (($._extAutomationBlocks.all.EsString.getFilePathPart(user_input_1,'EXT_NO_DOT')) == '') {\n        $._extAutomationBlocks.all.messageAboutExecuteBlock('N3#H6yxoFF715g6}Vnwe');\n        (function(){\n        \t\t\tvar message = $._extAutomationBlocks.all.EsString.esToString('You forgot to select a file');\n        \t\t\talert(message);\n        \t\t\tthrow new Error(message)\n        \t})();\n      } else {\n        $._extAutomationBlocks.all.messageAboutExecuteBlock(')ir7RS3$]Nv}4q)sYHw1');\n        (function(){\n        \t\t\tvar message = $._extAutomationBlocks.all.EsString.esToString(('Durne chi sho?' + '\\n' +\n        '' + '\\n' +\n        'Wrong file format'));\n        \t\t\talert(message);\n        \t\t\tthrow new Error(message)\n        \t})();\n      }\n    }\n  }\n} else {\n  $._extAutomationBlocks.all.messageAboutExecuteBlock('bJF?=%%n#c@j:0!0!e/N');\n  (function(){\n  \t\t\tvar message = $._extAutomationBlocks.all.EsString.esToString(('Select the INITIAL TEXT LAYER' + '\\n' +\n  '' + '\\n' +\n  'with the proper text parameters'));\n  \t\t\talert(message);\n  \t\t\tthrow new Error(message)\n  \t})();\n}\n")});
		}
		catch(err){
			myResult = JSON.stringify({status:"ERROR", data:""+err.message+" (line "+(err.line)+")"});
		}
		finally {
			app.endUndoGroup();
			try{
			$._extAutomationBlocks.all.abDestructor.notifyEndPointReached("main script");
			}
			catch(err){
				myResult = JSON.stringify({status:"ERROR", data:""+err.message+" (line "+(err.line)+")"});
			}
		}
		return myResult;
	})(this)
	