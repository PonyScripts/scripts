
		if(!$["_extAutomationBlocks"]) {
			alert("Automation Blocks is not initialized. To run this script make sure the extension Automation Blocks is installed.");
			throw new Error("could not find Automation Blocks API");
		}
		
	(function(thisObj){
		$._extAutomationBlocks.all.abDestructor.announceEndPoint("main script");
		var myResult;
		try {
			app.beginUndoGroup("Automation Blocks");
			myResult = JSON.stringify({status:"SUCCESS", data: eval("var VM_selected_layers, VM_Set_BM_back, VM_list, VM_Temp_belndMode_var, my_effect;\n\n\n$._extAutomationBlocks.all.messageAboutExecuteBlock('.h]OAQ;vek|Ga)~sSv,Y');\nif (true) {\n  $._extAutomationBlocks.all.messageAboutExecuteBlock('@6:evQ2cs61*mc6%v8UX');\n  VM_selected_layers = ($._extAutomationBlocks.AeLayer.getLayers(($._extAutomationBlocks.AeComp.getActiveComp()), {onlySelected:true,sortSelection:false, typeArray: [\"Layer\"]}));\n  $._extAutomationBlocks.all.messageAboutExecuteBlock('4r{);TXgV_z]i;IAi;|Y');\n  if (VM_selected_layers.length == 0) {\n    $._extAutomationBlocks.all.messageAboutExecuteBlock('3.r@R|8`GIGs5rw%LqhW');\n    (function(){\n    \t\t\tvar message = $._extAutomationBlocks.all.EsString.esToString('Select layer(s)');\n    \t\t\talert(message);\n    \t\t\tthrow new Error(message)\n    \t})();\n  } else {\n    $._extAutomationBlocks.all.messageAboutExecuteBlock('/YA=yxi0*2OsW!9$bfZa');\n    var VM_selected_layers_list = $._extAutomationBlocks.AeLayer.getLayers(($._extAutomationBlocks.AeComp.getActiveComp()), {recursively: false,onlySelected:true,sortSelection:false, typeArray: [\"Layer\"],returnItem:true});\n    for (var VM_selected_layers_index =0; VM_selected_layers_index< VM_selected_layers_list.length;VM_selected_layers_index++) {\n      try { VM_selected_layers = $._extAutomationBlocks.AeUtility.toPath(VM_selected_layers_list[VM_selected_layers_index]);}\n    \t\tcatch(e) {\n    \t\t\t$._extAutomationBlocks.all.log(\"skipped loop iteration:\"+e.message);\n    \t\t\tcontinue;\n    \t\t}\n    \t\t  $._extAutomationBlocks.all.messageAboutExecuteBlock('|h*h.kV2fXI_w5`P(%(n');\n      if ('DIFFERENCE' != ($._extAutomationBlocks.AeLayer.getAttribute(VM_selected_layers, 'BLENDING_MODE'))) {\n        $._extAutomationBlocks.all.messageAboutExecuteBlock('ilp(M?:+KfnxO0HpgZ[p');\n        if ('PrecompLayer' == ($._extAutomationBlocks.AeLayer.getAttribute(VM_selected_layers, 'TYPE'))) {\n          $._extAutomationBlocks.all.messageAboutExecuteBlock('!%4W[S0]sO~A~g0gAJO(');\n          $._extAutomationBlocks.AeLayer.setAttribute(VM_selected_layers, 'COLLAPSE_TRANSFORMATION', (false));\n        }\n        $._extAutomationBlocks.all.messageAboutExecuteBlock('YvD0W$T^I2A#gssW[N1o');\n        if ('NORMAL' != ($._extAutomationBlocks.AeLayer.getAttribute(VM_selected_layers, 'BLENDING_MODE'))) {\n          $._extAutomationBlocks.all.messageAboutExecuteBlock('Q$p/8nUm^{ioO^-wS_+z');\n          VM_Temp_belndMode_var = $._extAutomationBlocks.AeLayer.addEffect(VM_selected_layers,'ADBE Checkbox Control',{customValues: {'ADBE Checkbox Control-0001':(false)}});\n          $._extAutomationBlocks.all.messageAboutExecuteBlock('_9Bh/_qk_Tm3sBI2JAFF');\n          $._extAutomationBlocks.AeProperty.setAttribute(VM_Temp_belndMode_var, 'NAME', ('VM_BlendMode_var_-_' + String($._extAutomationBlocks.AeLayer.getAttribute(VM_selected_layers, 'BLENDING_MODE'))));\n        }\n        $._extAutomationBlocks.all.messageAboutExecuteBlock(']wnf_x9hZEmEOm-VkvlF');\n        $._extAutomationBlocks.AeLayer.setAttribute(VM_selected_layers, 'BLENDING_MODE', ('Difference'));\n      } else {\n        $._extAutomationBlocks.all.messageAboutExecuteBlock('F3F%+;Auzvzj7y]~eY51');\n        VM_Set_BM_back = false;\n        $._extAutomationBlocks.all.messageAboutExecuteBlock('iAPwj/wc:sm|-_(ZP@@=');\n        VM_list = [];\n        $._extAutomationBlocks.all.messageAboutExecuteBlock('6*!qFl3TJ~*{]*^WYItP');\n        var my_effect_list = $._extAutomationBlocks.AeProperty.getEffects(VM_selected_layers, {direction:\"FORWARD\",resultType:\"ITEM\"});\n        for (var my_effect_index =0; my_effect_index< my_effect_list.length;my_effect_index++) {\n          try { my_effect = $._extAutomationBlocks.AeUtility.toPath(my_effect_list[my_effect_index]);}\n        \t\tcatch(e) {\n        \t\t\t$._extAutomationBlocks.all.log(\"skipped loop iteration:\"+e.message);\n        \t\t\tcontinue;\n        \t\t}\n        \t\t  $._extAutomationBlocks.all.messageAboutExecuteBlock('tI3VM]+U+oZQif$vTeDF');\n          VM_list = ($._extAutomationBlocks.AeProperty.getAttribute(my_effect, 'NAME')).split('_-_');\n          $._extAutomationBlocks.all.messageAboutExecuteBlock('/,C[-WCKje=cV4/WmX:(');\n          if (VM_list[0] == 'VM_BlendMode_var') {\n            $._extAutomationBlocks.all.messageAboutExecuteBlock('@P?].5bd5?|+k5LR1Fch');\n            VM_Set_BM_back = true;\n            $._extAutomationBlocks.all.messageAboutExecuteBlock('/s$I~w}GvmA^iDOa1U$G');\n            VM_list = VM_list[1];\n            $._extAutomationBlocks.all.messageAboutExecuteBlock('X=(@(0(/BOH]Zs;V+BzN');\n            $._extAutomationBlocks.AeProperty.remove(my_effect);\n          }\n          $._extAutomationBlocks.all.messageAboutExecuteBlock('6*!qFl3TJ~*{]*^WYItP');\n        }\n        $._extAutomationBlocks.all.messageAboutExecuteBlock('gz2Fs|0t*{k8_z^m].==');\n        if (VM_Set_BM_back) {\n          $._extAutomationBlocks.all.messageAboutExecuteBlock('o%av*lOoiDPH||YdFV[X');\n          $._extAutomationBlocks.AeLayer.setAttribute(VM_selected_layers, 'BLENDING_MODE', VM_list);\n        } else {\n          $._extAutomationBlocks.all.messageAboutExecuteBlock('4H@@-qxUP{U@Ej=L8M`.');\n          $._extAutomationBlocks.AeLayer.setAttribute(VM_selected_layers, 'BLENDING_MODE', ('Normal'));\n        }\n        $._extAutomationBlocks.all.messageAboutExecuteBlock('0S,WEXJVV`?`FJJb]62?');\n        if ('PrecompLayer' == ($._extAutomationBlocks.AeLayer.getAttribute(VM_selected_layers, 'TYPE'))) {\n          $._extAutomationBlocks.all.messageAboutExecuteBlock('}/8X1#2]eZ%o33o}VR.B');\n          $._extAutomationBlocks.AeLayer.setAttribute(VM_selected_layers, 'COLLAPSE_TRANSFORMATION', (true));\n        }\n      }\n      $._extAutomationBlocks.all.messageAboutExecuteBlock('/YA=yxi0*2OsW!9$bfZa');\n    }\n  }\n}\n")});
		}
		catch(err){
			myResult = JSON.stringify({status:"ERROR", data:""+err.message+" (line "+(err.line)+")"});
		}
		finally {
			app.endUndoGroup();
			try{
			$._extAutomationBlocks.all.abDestructor.notifyEndPointReached("main script");
			}
			catch(err){
				myResult = JSON.stringify({status:"ERROR", data:""+err.message+" (line "+(err.line)+")"});
			}
		}
		return myResult;
	})(this)
	