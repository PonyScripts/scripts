
		if(!$["_extAutomationBlocks"]) {
			alert("Automation Blocks is not initialized. To run this script make sure the extension Automation Blocks is installed.");
			throw new Error("could not find Automation Blocks API");
		}
		
	(function(thisObj){
		$._extAutomationBlocks.all.abDestructor.announceEndPoint("main script");
		var myResult;
		try {
			app.beginUndoGroup("Automation Blocks");
			myResult = JSON.stringify({status:"SUCCESS", data: eval("var precomp_layer_in_parent_comp, delete_original, my_layer, delete_this_Comp, precomp_start_time, parent_comp, insert_at_index, temp_null, layer_in_parent_comp, null_source;\n\n// Describe this function...\nfunction get_parent_comp_choice_options() {\n  $._extAutomationBlocks.all.messageAboutExecuteBlock('7_VGGRd{6PC],EGZ_6jg');\n  $._extAutomationBlocks.all.messageAboutExecuteBlock('Ekf6J}2YLt_I.QVwS%XO');\n  precomp_layer_in_parent_comp = [];\n  $._extAutomationBlocks.all.messageAboutExecuteBlock('CG+5kt*{UZ1xu]Yf(?:L');\n  var my_layer_list2 = $._extAutomationBlocks.AeLayer.getLayersWithSourceItem(($._extAutomationBlocks.AeComp.getActiveComp()),{resultType:\"ITEM\"});\n  for (var my_layer_index2 =0; my_layer_index2< my_layer_list2.length;my_layer_index2++) {\n    try { my_layer = $._extAutomationBlocks.AeUtility.toPath(my_layer_list2[my_layer_index2]);}\n  \t\tcatch(e) {\n  \t\t\t$._extAutomationBlocks.all.log(\"skipped loop iteration:\"+e.message);\n  \t\t\tcontinue;\n  \t\t}\n  \t\t  $._extAutomationBlocks.all.messageAboutExecuteBlock('oio#V}$favvM$AKgfOsQ');\n    precomp_layer_in_parent_comp.push(my_layer);\n    $._extAutomationBlocks.all.messageAboutExecuteBlock('CG+5kt*{UZ1xu]Yf(?:L');\n  }\n  $._extAutomationBlocks.all.messageAboutExecuteBlock('7_VGGRd{6PC],EGZ_6jg');\n  return precomp_layer_in_parent_comp.join('|');\n}\n\n\n$._extAutomationBlocks.all.messageAboutExecuteBlock('?zwhtGaItMi_ekXFkleS');\n\n$._extAutomationBlocks.all.messageAboutExecuteBlock('l1.B7z()HC6VeR_#I)GM');\nprecomp_layer_in_parent_comp = get_parent_comp_choice_options();\n$._extAutomationBlocks.all.messageAboutExecuteBlock('5S#:v[444!dc#R`X/}w^');\ndelete_original = false;\n$._extAutomationBlocks.all.messageAboutExecuteBlock('eq,TPZQ!{@KakUN]s`@_');\nif (!precomp_layer_in_parent_comp.length) {\n  $._extAutomationBlocks.all.messageAboutExecuteBlock('^c#wZt*QS@sGQI})`7Ya');\n  (function(){\n  \t\t\tvar message = $._extAutomationBlocks.all.EsString.esToString(('Cannot copy to parent comp!' + '\\n' +\n  '(the active comp is not a precomp)'));\n  \t\t\talert(message);\n  \t\t\tthrow new Error(message)\n  \t})();\n}\n$._extAutomationBlocks.all.messageAboutExecuteBlock('NV/_JBxVo+4%.Wvn]ef:');\n\n\t dialogResult = $._extAutomationBlocks.all.EsDialogs.showCustomDialog([{type:'DROPDOWN', value:precomp_layer_in_parent_comp,label:'copy to parent comp'},{type:'CHECKBOX', value:delete_original,label:'delete original'},{type:'CHECKBOX', value:delete_this_Comp,label:'delete this Comp'}],{allowCancel:true});\n\t if(!dialogResult) throw new Error(\"user canceled\");\n\t precomp_layer_in_parent_comp=dialogResult[0];\ndelete_original=dialogResult[1];\ndelete_this_Comp=dialogResult[2];\n\t $._extAutomationBlocks.all.messageAboutExecuteBlock('I(|S6kdC$o8NLeL%FdLa');\nprecomp_start_time = ($._extAutomationBlocks.AeLayer.getAttribute(precomp_layer_in_parent_comp, 'START_TIME'));\n$._extAutomationBlocks.all.messageAboutExecuteBlock('g}A?Z*QfF?|S6y6Cl[Xp');\nparent_comp = ($._extAutomationBlocks.AeLayer.getAttribute(precomp_layer_in_parent_comp, 'CONTAINING_COMP'));\n$._extAutomationBlocks.all.messageAboutExecuteBlock('/[z)YU3kjzDk(*|*m=oe');\ninsert_at_index = ($._extAutomationBlocks.AeLayer.getAttribute(precomp_layer_in_parent_comp, 'INDEX'));\n$._extAutomationBlocks.all.messageAboutExecuteBlock('b-^yf2e2%XDiJA?2t4Ds');\ntemp_null = $._extAutomationBlocks.AeComp.addLayer(parent_comp,{type: \"NULL\",name:'temp null'});\n$._extAutomationBlocks.all.messageAboutExecuteBlock(']E(f_`4xNqOiURZeu,{e');\nvar my_layer_list = $._extAutomationBlocks.AeLayer.getLayers(($._extAutomationBlocks.AeComp.getActiveComp()), {recursively: false,onlySelected:true,sortSelection:true, typeArray: [\"Layer\"],returnItem:true});\nfor (var my_layer_index =0; my_layer_index< my_layer_list.length;my_layer_index++) {\n  try { my_layer = $._extAutomationBlocks.AeUtility.toPath(my_layer_list[my_layer_index]);}\n\t\tcatch(e) {\n\t\t\t$._extAutomationBlocks.all.log(\"skipped loop iteration:\"+e.message);\n\t\t\tcontinue;\n\t\t}\n\t\t  $._extAutomationBlocks.all.messageAboutExecuteBlock('0*~#D;u)pViEZQZ,ZLiv');\n  layer_in_parent_comp = $._extAutomationBlocks.AeLayer.copyToComp(my_layer,parent_comp);\n  $._extAutomationBlocks.all.messageAboutExecuteBlock('ZqbvEhV(r(+6z3!Vl-(s');\n  $._extAutomationBlocks.AeLayer.setAttribute(layer_in_parent_comp, 'START_TIME', (($._extAutomationBlocks.AeLayer.getAttribute(my_layer, 'START_TIME')) + precomp_start_time));\n  $._extAutomationBlocks.all.messageAboutExecuteBlock('P9uCiS0Xe{OLso{JHA=8');\n  $._extAutomationBlocks.AeLayer.setAttribute(layer_in_parent_comp, 'INDEX', insert_at_index);\n  $._extAutomationBlocks.all.messageAboutExecuteBlock('`dW-Qo-XEEt1$Yg6:1iP');\n  insert_at_index = (typeof insert_at_index == 'number' ? insert_at_index : 0) + 1;\n  $._extAutomationBlocks.all.messageAboutExecuteBlock('Oj(6,NHq,mcQ8R5LYlxi');\n  $._extAutomationBlocks.AeLayer.setAttribute(layer_in_parent_comp, 'SELECTED', (true));\n  $._extAutomationBlocks.all.messageAboutExecuteBlock('Ffb3qk!MGi?Y*p(RvD*I');\n  $._extAutomationBlocks.AeLayer.setAttribute(layer_in_parent_comp, 'PARENT', temp_null);\n  $._extAutomationBlocks.all.messageAboutExecuteBlock('2t:$hn@6EE^1Sc1i`kOw');\n  if (delete_original) {\n    $._extAutomationBlocks.all.messageAboutExecuteBlock(')z=@EC*)@l}CTB;_;#|;');\n    $._extAutomationBlocks.AeLayer.remove(my_layer);\n  }\n  $._extAutomationBlocks.all.messageAboutExecuteBlock(']E(f_`4xNqOiURZeu,{e');\n}\n$._extAutomationBlocks.all.messageAboutExecuteBlock('hvT.G^VkXR]6;rho=NZR');\n$._extAutomationBlocks.AeProperty.setAttribute(($._extAutomationBlocks.AeLayer.toLayer(temp_null) + '/' + 'ADBE Transform Group/ADBE Position'), 'VALUE', ($._extAutomationBlocks.AeLayer.transform(($._extAutomationBlocks.AeProperty.getAttribute(($._extAutomationBlocks.AeLayer.toLayer(temp_null) + '/' + 'ADBE Transform Group/ADBE Position'), 'VALUE')),precomp_layer_in_parent_comp,parent_comp, {\n\t\ttime: null\n\t})));\n$._extAutomationBlocks.all.messageAboutExecuteBlock('3Y96;2;#=+yoErYwQ;)1');\nnull_source = ($._extAutomationBlocks.AeLayer.getAttribute(temp_null, 'SOURCE'));\n$._extAutomationBlocks.all.messageAboutExecuteBlock('sUXtyb%R*k`=5l.EN@_Q');\n$._extAutomationBlocks.AeLayer.remove(temp_null);\n$._extAutomationBlocks.all.messageAboutExecuteBlock('!|?!6h5Df08o/?K|7X^R');\n$._extAutomationBlocks.AeProject.deleteProjectItems(null_source);\n$._extAutomationBlocks.all.messageAboutExecuteBlock('!HQ2vStxV5-EX8k5s#9^');\nif (delete_this_Comp) {\n  $._extAutomationBlocks.all.messageAboutExecuteBlock('uhVuw7%#])M@WGq^=4XC');\n  $._extAutomationBlocks.AeProject.deleteProjectItems(($._extAutomationBlocks.AeComp.getActiveComp()));\n}\n\n$._extAutomationBlocks.all.messageAboutExecuteBlock('A]=aOA6{ug~p/}[awhKF');\n")});
		}
		catch(err){
			myResult = JSON.stringify({status:"ERROR", data:""+err.message+" (line "+(err.line)+")"});
		}
		finally {
			app.endUndoGroup();
			try{
			$._extAutomationBlocks.all.abDestructor.notifyEndPointReached("main script");
			}
			catch(err){
				myResult = JSON.stringify({status:"ERROR", data:""+err.message+" (line "+(err.line)+")"});
			}
		}
		return myResult;
	})(this)
	